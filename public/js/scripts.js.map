{"version":3,"sources":["script.js"],"names":["MainScriptClass","model","this","init","callData","then","data","initChartDougnut","err","console","log","Promise","resolve","reject","fetch","resp","json","error","Error","i","labels","speedAverage","length","push","zoneId","speed","ctx","document","getElementById","getContext","Chart","type","datasets","label","backgroundColor","options","cutoutPercentage","title","display","position","padding","fontColor","text","layout","left","right","top","bottom","legend","boxWidth","window"],"mappings":"AAAA,GAAAA,iBAAA,WAEA,GAAAC,EAEAC,MAAAC,KAAA,WACAC,EAAAC,KAAA,SAAAC,GACAL,EAAAK,EACAC,KACA,SAAAC,GACAC,QAAAC,IAAAF,KAIA,IAAAJ,GAAA,GAAAO,SAAA,SAAAC,EAAAC,GAEAC,MAAA,2BACAT,KAAA,SAAAU,GAAA,MAAAA,GAAAC,SACAX,KAAA,SAAAC,GACAM,EAAAN,KAHAQ,SAKA,SAAAG,GACAJ,EAAAK,MAAAD,QAIAV,EAAA,WACA,GAAAY,GACAC,KACAC,IAEA,KAAAF,EAAA,EAAAA,EAAAlB,EAAAqB,OAAAH,IACAC,EAAAG,KAAAtB,EAAAkB,GAAAK,QACAH,EAAAE,KAAAtB,EAAAkB,GAAAb,KAAAmB,MAGAhB,SAAAC,IAAAU,GACAX,QAAAC,IAAAW,EAGA,IAAAK,GAAAC,SAAAC,eAAA,WAAAC,WAAA,KACA,IAAAC,OAAAJ,GACAK,KAAA,MACAzB,MACAc,OAAAA,EACAY,WACAC,MAAA,gBACA3B,KAAAe,EACAa,iBACA,oBACA,oBACA,qBACA,oBACA,qBAIAC,SACAC,iBAAA,GACAC,OACAC,SAAA,EACAC,SAAA,MACAC,QAAA,GACAC,UAAA,UACAC,KAAA,iBAEAC,QACAH,SACAI,KAAA,GACAC,MAAA,GACAC,IAAA,GACAC,OAAA,KAGAC,QACAV,SAAA,EACAC,SAAA,SACAU,SAAA,QAQAC,QAAA,WAAA,GAAAlD,iBACAkD,OAAA,WAAA/C","file":"scripts.js","sourcesContent":["var MainScriptClass = function () {\n  //vars\n  var model;\n\n  this.init = function () {\n    callData.then(function(data) {\n      model = data;\n      initChartDougnut();\n    }, function(err) {\n      console.log(err);\n    });\n  }\n\n  var callData = new Promise(function (resolve, reject) {\n    // Call the fetch function passing the url of the API as a parameter\n    fetch('data/activity-data.json')\n    .then( (function (resp) {return resp.json()}) ) // Transform the data into json //.then((resp) => resp.json()) // ES6\n    .then(function(data) {\n      resolve(data);\n    })\n    .catch(function(error) {\n      reject(Error(error));\n    });\n  })\n\n  var initChartDougnut = function() {\n    var i;\n    var labels = [];\n    var speedAverage = []\n\n    for (i = 0; i < model.length; i++) {\n      labels.push(model[i].zoneId);\n      speedAverage.push(model[i].data.speed);\n    }\n\n    console.log(labels);\n    console.log(speedAverage);\n\n\n    var ctx = document.getElementById(\"myChart\").getContext('2d');\n    var myChart = new Chart(ctx, {\n        type: 'pie',\n        data: {\n            labels: labels,\n            datasets: [{\n                label: 'Speed Average',\n                data: speedAverage,\n                backgroundColor: [\n                    'rgb(194, 89, 145)',\n                    'rgb(249, 153, 46)',\n                    'rgb(165, 120, 247)',\n                    'rgb(93, 223, 202)',\n                    'rgb(239, 0, 0)'\n                ]\n            }]\n        },\n        options: {\n          cutoutPercentage: 70,\n          title: {\n            display: true,\n            position: 'top',\n            padding: 10,\n            fontColor: \"#7cb2ed\",\n            text: 'Speed Average'\n          },\n          layout: {\n            padding: {\n                left: 15,\n                right: 15,\n                top: 20,\n                bottom: 20\n            }\n          },\n          legend: {\n            display: true,\n            position: 'bottom',\n            boxWidth: 10\n          }\n\n        }\n    });\n  }\n\n}\nwindow['mainScript'] = new MainScriptClass();\nwindow['mainScript'].init();\n"]}